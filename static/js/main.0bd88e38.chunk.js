(this["webpackJsonpconversations-demo-sdk-update"]=this["webpackJsonpconversations-demo-sdk-update"]||[]).push([[0],{153:function(e,t,n){e.exports={Dropzone:"Conversation_Dropzone__15hnk",drop:"Conversation_drop__2apuC",active:"Conversation_active__1BNWw",messages:"Conversation_messages__1KgS7",Highlight:"Conversation_Highlight__1jIO5","type-a-message":"Conversation_type-a-message__2ks33"}},156:function(e,t,n){e.exports={"conversation-item":"ConversationsItem_conversation-item__1DIn_","conversation-item--active":"ConversationsItem_conversation-item--active__39CfD","conversation-item-text":"ConversationsItem_conversation-item-text__2VjQK"}},258:function(e,t,n){},276:function(e,t,n){e.exports={"chat-channels-list":"ConversationsList_chat-channels-list__228lf"}},287:function(e,t,n){},379:function(e,t){},415:function(e,t){},448:function(e,t,n){},49:function(e,t,n){e.exports={incoming_msg_img:"MessageBubble_incoming_msg_img__2NTPH",received_msg:"MessageBubble_received_msg__29axb",received_withd_msg:"MessageBubble_received_withd_msg__2MC6p",time_date:"MessageBubble_time_date__3sfzs",sent_msg:"MessageBubble_sent_msg__Il0B-",outgoing_msg:"MessageBubble_outgoing_msg__1yX32",input_msg_write:"MessageBubble_input_msg_write__2C3Y9",image:"MessageBubble_image__3ovCZ",picture_preview:"MessageBubble_picture_preview__Xdxpt",media_icon:"MessageBubble_media_icon__27H33",picture_container:"MessageBubble_picture_container__h5Eje",media:"MessageBubble_media__3tn1o",placeholder:"MessageBubble_placeholder__1ib-9",medias:"MessageBubble_medias__1QOlg"}},549:function(e,t,n){},551:function(e,t,n){"use strict";n.r(t);var s,a=n(0),i=n.n(a),o=n(9),c=n.n(o),r=(n(287),n(29)),l=n(30),d=n(32),u=n(31),j=n(92),m=n(143),g=n(22),b=n.n(g),h=n(558),v=n(554),p=n(559),f=n(13),x=n(196),O=(n(258),n(448),["title","titleId"]);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y.apply(this,arguments)}function C(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){var n=e.title,i=e.titleId,o=C(e,O);return a.createElement("svg",y({className:"twilio-mark",fill:"#F22F46",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:30,height:30,ref:t,"aria-labelledby":i},o),n?a.createElement("title",{id:i},n):null,s||(s=a.createElement("path",{d:"M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11zm6.8-14.7c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1 1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1zm0 7.4c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm-7.4 0c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm0-7.4c0 1.7-1.4 3.1-3.1 3.1S8.2 13 8.2 11.3s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1z"})))}var w=a.forwardRef(_),S=(n.p,n(66)),M=n(49),I=n.n(M),N=n(556),k=n(269),P=n(2),z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(P.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 90 90",children:Object(P.jsx)("path",{fill:"currentColor",d:"M90,43.841c0,24.213-19.779,43.841-44.182,43.841c-7.747,0-15.025-1.98-21.357-5.455L0,90l7.975-23.522c-4.023-6.606-6.34-14.354-6.34-22.637C1.635,19.628,21.416,0,45.818,0C70.223,0,90,19.628,90,43.841z M45.818,6.982c-20.484,0-37.146,16.535-37.146,36.859c0,8.065,2.629,15.534,7.076,21.61L11.107,79.14l14.275-4.537c5.865,3.851,12.891,6.097,20.437,6.097c20.481,0,37.146-16.533,37.146-36.857S66.301,6.982,45.818,6.982z M68.129,53.938c-0.273-0.447-0.994-0.717-2.076-1.254c-1.084-0.537-6.41-3.138-7.4-3.495c-0.993-0.358-1.717-0.538-2.438,0.537c-0.721,1.076-2.797,3.495-3.43,4.212c-0.632,0.719-1.263,0.809-2.347,0.271c-1.082-0.537-4.571-1.673-8.708-5.333c-3.219-2.848-5.393-6.364-6.025-7.441c-0.631-1.075-0.066-1.656,0.475-2.191c0.488-0.482,1.084-1.255,1.625-1.882c0.543-0.628,0.723-1.075,1.082-1.793c0.363-0.717,0.182-1.344-0.09-1.883c-0.27-0.537-2.438-5.825-3.34-7.977c-0.902-2.15-1.803-1.792-2.436-1.792c-0.631,0-1.354-0.09-2.076-0.09c-0.722,0-1.896,0.269-2.889,1.344c-0.992,1.076-3.789,3.676-3.789,8.963c0,5.288,3.879,10.397,4.422,11.113c0.541,0.716,7.49,11.92,18.5,16.223C58.2,65.771,58.2,64.336,60.186,64.156c1.984-0.179,6.406-2.599,7.312-5.107C68.398,56.537,68.398,54.386,68.129,53.938z"})})},e}return Object(l.a)(n)}(a.PureComponent),D=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(P.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 1024 1024",children:Object(P.jsx)("path",{fill:"currentColor",d:"M161.69,935.7060000000001C161.69,935.7060000000001,161.69,681.344,161.69,681.344C161.69,681.344,0,681.344,0,681.344C0,681.344,0,88.50000000000011,0,88.50000000000011C0,88.50000000000011,1024,88.50000000000011,1024,88.50000000000011C1024,88.50000000000011,1024,681.344,1024,681.344C1024,681.344,504.986,681.344,504.986,681.344C504.986,681.344,161.69,935.7060000000001,161.69,935.7060000000001C161.69,935.7060000000001,161.69,935.7060000000001,161.69,935.7060000000001M53.914,627.4310000000002C53.914,627.4310000000002,215.603,627.4310000000002,215.603,627.4310000000002C215.603,627.4310000000002,215.603,828.4420000000001,215.603,828.4420000000001C215.603,828.4420000000001,485.069,627.4310000000002,485.069,627.4310000000002C485.069,627.4310000000002,970.086,627.4310000000002,970.086,627.4310000000002C970.086,627.4310000000002,970.086,142.36200000000008,970.086,142.36200000000008C970.086,142.36200000000008,53.914,142.36200000000008,53.914,142.36200000000008C53.914,142.36200000000008,53.914,627.4310000000002,53.914,627.4310000000002C53.914,627.4310000000002,53.914,627.4310000000002,53.914,627.4310000000002M161.69,384.8960000000002C161.69,447.1560000000002,229.069,486.0160000000001,282.931,454.9380000000001C307.968,440.4480000000001,323.379,413.77300000000014,323.379,384.8960000000002C323.379,322.6880000000001,256,283.7760000000002,202.086,314.9060000000002C177.101,329.34400000000016,161.69,356.0200000000001,161.69,384.8960000000002M431.155,384.8960000000002C431.155,447.1560000000002,498.534,486.0160000000001,552.448,454.9380000000001C577.434,440.4480000000001,592.845,413.77300000000014,592.845,384.8960000000002C592.845,322.6880000000001,525.466,283.7760000000002,471.603,314.9060000000002C446.566,329.34400000000016,431.155,356.0200000000001,431.155,384.8960000000002M700.621,384.8960000000002C700.621,447.1560000000002,768,486.0160000000001,821.914,454.9380000000001C846.899,440.4480000000001,862.31,413.77300000000014,862.31,384.8960000000002C862.31,322.6880000000001,794.931,283.7760000000002,741.069,314.9060000000002C716.032,329.34400000000016,700.621,356.0200000000001,700.621,384.8960000000002"})})},e}return Object(l.a)(n)}(a.PureComponent),T=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).componentDidMount=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=S.a,e.t2=Object(S.a)({},s.state),e.t3={},e.next=6,s.props.message.getParticipant();case 6:e.t4=e.sent.type,e.t5={type:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.setState.call(e.t0,e.t6),s.state.hasMedia&&s.props.message.media.getContentTemporaryUrl().then((function(e){s.setState({mediaUrl:e})})).catch((function(e){return s.setState({mediaDownloadFailed:!0})})),document.getElementById(s.props.message.sid).scrollIntoView({behavior:"smooth"});case 12:case"end":return e.stop()}}),e)}))),s.render=function(){var e="incoming"===s.props.direction?{itemStyle:I.a.received_msg,divStyle:I.a.received_withd_msg}:{itemStyle:I.a.outgoing_msg,divStyle:I.a.sent_msg},t=e.itemStyle,n=e.divStyle,a=s.props.message,i=s.state.type;return s.state.hasMedia&&(console.log("Message is media message"),console.log("Media properties",a.media)),console.log(a),Object(P.jsx)("li",{id:a.sid,className:t,children:Object(P.jsxs)("div",{className:n,children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("strong",{children:["whatsapp"===i&&Object(P.jsx)(f.a,{style:{fontSize:"16px"},component:z}),"chat"===i&&Object(P.jsx)(f.a,{style:{fontSize:"16px"},component:D}),"sms"===i&&Object(P.jsx)(f.a,{type:"mobile"})," ".concat(a.author)]}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:I.a.medias,children:s.state.hasMedia&&Object(P.jsx)(B,{hasFailed:s.state.mediaDownloadFailed,url:s.state.mediaUrl})}),a.body]}),Object(P.jsx)("span",{className:I.a.time_date,children:a.state.timestamp.toLocaleString()})]})})},s.state={hasMedia:"media"===s.props.message.type,mediaDownloadFailed:!1,mediaUrl:null},s}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){document.getElementById(this.props.message.sid).scrollIntoView({behavior:"smooth"})}}]),n}(a.Component),B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props,n=t.hasFailed,s=t.url;return Object(P.jsxs)("div",{className:"".concat(I.a.media).concat(s?"":" "+I.a.placeholder),onClick:function(){N.a.info({centered:!0,icon:null,okText:"Close",width:"60%",content:Object(P.jsx)("div",{className:I.a.picture_container,children:Object(P.jsx)("img",{style:{width:"100%",height:"100%"},src:s})})})},children:[!s&&!n&&Object(P.jsx)(k.a,{}),n&&Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(P.jsx)(f.a,{type:"warning",style:{fontSize:"5em"}}),Object(P.jsx)("p",{children:"Failed to load media"})]}),!n&&s&&Object(P.jsxs)("div",{className:I.a.media_icon,children:[Object(P.jsx)("div",{style:{zIndex:123,position:"absolute"},children:Object(P.jsx)(f.a,{type:"eye",style:{fontSize:"5em",opacity:.3}})}),Object(P.jsx)("div",{className:I.a.picture_preview,style:{backgroundImage:"url(".concat(s,")"),zIndex:122}})]})]})},e}return Object(l.a)(n)}(a.PureComponent),E=T,U=n(280),F=n(153),Y=n.n(F),J=n(555),L=n(557),G=n(79),R=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(P.jsx)("div",{id:"messages",children:Object(P.jsx)("ul",{children:e.props.messages.map((function(t){return t.author===e.props.identity?Object(P.jsx)(E,{direction:"outgoing",message:t},t.index):Object(P.jsx)(E,{direction:"incoming",message:t},t.index)}))})})},e}return Object(l.a)(n)}(a.PureComponent),Z=R,A=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).loadMessagesFor=function(e){s.state.conversationProxy===e&&e.getMessages().then((function(t){s.state.conversationProxy===e&&s.setState({messages:t.items,loadingState:"ready"})})).catch((function(e){console.error("Couldn't fetch messages IMPLEMENT RETRY",e),s.setState({loadingState:"failed"})}))},s.componentDidMount=function(){if(s.state.conversationProxy&&(s.loadMessagesFor(s.state.conversationProxy),!s.state.boundConversations.has(s.state.conversationProxy))){var e=s.state.conversationProxy;e.on("messageAdded",(function(t){return s.messageAdded(t,e)})),s.setState({boundConversations:new Set([].concat(Object(j.a)(s.state.boundConversations),[e]))})}},s.componentDidUpdate=function(e,t){if(s.state.conversationProxy!==t.conversationProxy&&(s.loadMessagesFor(s.state.conversationProxy),!s.state.boundConversations.has(s.state.conversationProxy))){var n=s.state.conversationProxy;n.on("messageAdded",(function(e){return s.messageAdded(e,n)})),s.setState({boundConversations:new Set([].concat(Object(j.a)(s.state.boundConversations),[n]))})}},s.messageAdded=function(e,t){t===s.state.conversationProxy&&s.setState((function(t,n){return{messages:[].concat(Object(j.a)(t.messages),[e])}}))},s.onMessageChanged=function(e){s.setState({newMessage:e.target.value})},s.sendMessage=function(e){e.preventDefault();var t=s.state.newMessage;s.setState({newMessage:""}),s.state.conversationProxy.sendMessage(t)},s.onDrop=function(e){s.state.conversationProxy.sendMessage({contentType:e[0].type,media:e[0]})},s.render=function(){return Object(P.jsx)(U.a,{onDrop:s.onDrop,accept:"image/*",children:function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive;return Object(P.jsxs)("div",Object(S.a)(Object(S.a)({},t()),{},{onClick:function(){},id:"OpenChannel",style:{position:"relative",top:0},children:[a&&Object(P.jsxs)("div",{className:Y.a.drop,children:[Object(P.jsx)(f.a,{type:"cloud-upload",style:{fontSize:"5em",color:"#fefefe"}}),Object(P.jsx)("h3",{style:{color:"#fefefe"},children:"Release to Upload"})]}),Object(P.jsxs)("div",{className:Y.a.messages,style:{filter:"blur(".concat(a?4:0,"px)")},children:[Object(P.jsx)("input",Object(S.a)({id:"files"},n())),Object(P.jsx)("div",{style:{flexBasis:"100%",flexGrow:2,flexShrink:1,overflowY:"scroll"},children:Object(P.jsx)(Z,{identity:s.props.myIdentity,messages:s.state.messages})}),Object(P.jsx)("div",{children:Object(P.jsx)(J.a,{onSubmit:s.sendMessage,children:Object(P.jsxs)(L.a.Group,{compact:!0,style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(P.jsx)(L.a,{style:{flexBasis:"100%"},placeholder:"Type your message here...",type:"text",name:"message",id:Y.a["type-a-message"],autoComplete:"off",disabled:"ready"!==s.state.loadingState,onChange:s.onMessageChanged,value:s.state.newMessage}),Object(P.jsx)(G.a,{icon:"enter",htmlType:"submit",type:"submit"})]})})})]})]}))}})},s.state={newMessage:"",conversationProxy:e.conversationProxy,messages:[],loadingState:"initializing",boundConversations:new Set},s}return Object(l.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return"initializing"===t.loadingState||t.conversationProxy!==e.conversationProxy?{loadingState:"loading messages",conversationProxy:e.conversationProxy}:null}}]),n}(a.Component),W=n(102),X=n(54),Q=n(553),H=h.a.Content,V=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(t){t.preventDefault();var n=e.props,s=n.form,a=n.onSubmit;s.validateFields((function(e,t){if(!e){var n=t.username;a(n)}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=(0,this.props.form.getFieldDecorator)("username",{rules:[{required:!0,message:"Please input your username!"}]});return Object(P.jsx)(h.a,{children:Object(P.jsx)(H,{style:{height:"100vh"},children:Object(P.jsx)(W.a,{type:"flex",justify:"space-around",align:"middle",style:{height:"100%"},children:Object(P.jsx)(X.a,{span:12,offset:6,children:Object(P.jsxs)(Q.a,{style:{maxWidth:"404px"},children:[Object(P.jsx)(W.a,{type:"flex",justify:"center",align:"middle",style:{marginBottom:"30px"},children:Object(P.jsx)(w,{})}),Object(P.jsxs)(J.a,{onSubmit:this.handleSubmit,children:[Object(P.jsx)(J.a.Item,{children:e(Object(P.jsx)(L.a,{prefix:Object(P.jsx)(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))}),Object(P.jsx)(J.a.Item,{children:Object(P.jsx)(G.a,{block:!0,type:"primary",htmlType:"submit",children:"Sign in"})})]})]})})})})})}}]),n}(i.a.Component),q=J.a.create({name:"login"})(V),K=n(552),$=n(276),ee=n.n($),te=n(156),ne=n.n(te);var se=v.a.Text,ae=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.conversations,n=e.selectedConversationSid,s=e.onConversationClick;return Object(P.jsx)(K.a,{header:"Open Conversations",className:ee.a["conversations-list"],bordered:!0,loading:0===t.length,dataSource:t,renderItem:function(e){var t=e.sid===n,a=[ne.a["conversation-item"],t&&ne.a["conversation-item--active"]].filter(Boolean).join(" ");return Object(P.jsx)(K.a.Item,{onClick:function(){return s(e)},className:a,children:Object(P.jsx)(se,{strong:!0,className:ne.a["conversation-item-text"],children:e.friendlyName||e.sid})},e.sid)}})}}]),n}(i.a.Component),ie=function(e){var t=e.children,n=e.style,s=Object(S.a)({padding:"0 19px 0 19px"},n);return Object(P.jsx)("div",{style:s,children:t})},oe=h.a.Content,ce=h.a.Sider,re=h.a.Header,le=v.a.Text,de=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(r.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.state.loggedIn&&(s.getToken(),s.setState({statusString:"Fetching credentials\u2026"}))},s.logIn=function(e){""!==e&&(localStorage.setItem("name",e),s.setState({name:e,loggedIn:!0},s.getToken))},s.logOut=function(e){e&&e.preventDefault(),s.setState({name:"",loggedIn:!1,token:"",conversationsReady:!1,messages:[],newMessage:"",conversations:[]}),localStorage.removeItem("name"),s.conversationsClient.shutdown()},s.getToken=function(){s.setState({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzcwMGI2Y2EwODhlOTIxZWE2OGUxYjg5YjA2MjE1ZGUyLTE2NDU0OTM2NjIiLCJncmFudHMiOnsiaWRlbnRpdHkiOiJ0ZXN0UGluZWFwcGxlIiwiY2hhdCI6eyJzZXJ2aWNlX3NpZCI6IklTNTEzYWE3NjUyZGJjNDQyNmEyMjcwMTYwMTljNTUxNDEifX0sImlhdCI6MTY0NTQ5MzY2MiwiZXhwIjoxNjQ1NDk3MjYyLCJpc3MiOiJTSzcwMGI2Y2EwODhlOTIxZWE2OGUxYjg5YjA2MjE1ZGUyIiwic3ViIjoiQUM4NmJlMjNiODMzZjQ5NzY5MTc1ZmQ5MzlhZGU3OTEwYyJ9.9xi7LUlgkpGLy2WA4fNcyRUZ8yL78ZMJzr0LvyMqXAg"},s.initConversations)},s.initConversations=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.conversationsClient=x.Client,e.next=3,x.Client.create(s.state.token);case 3:s.conversationsClient=e.sent,s.setState({statusString:"Connecting to Twilio\u2026"}),s.conversationsClient.on("connectionStateChanged",(function(e){"connecting"===e&&s.setState({statusString:"Connecting to Twilio\u2026",status:"default"}),"connected"===e&&s.setState({statusString:"You are connected.",status:"success"}),"disconnecting"===e&&s.setState({statusString:"Disconnecting from Twilio\u2026",conversationsReady:!1,status:"default"}),"disconnected"===e&&s.setState({statusString:"Disconnected.",conversationsReady:!1,status:"warning"}),"denied"===e&&s.setState({statusString:"Failed to connect.",conversationsReady:!1,status:"error"})})),s.conversationsClient.on("conversationJoined",(function(e){s.setState({conversations:[].concat(Object(j.a)(s.state.conversations),[e])})})),s.conversationsClient.on("conversationLeft",(function(e){s.setState({conversations:Object(j.a)(s.state.conversations.filter((function(t){return t!==e})))})}));case 8:case"end":return e.stop()}}),e)})));var a=localStorage.getItem("name")||"",i=""!==a;return s.state={name:a,loggedIn:i,token:null,statusString:null,conversationsReady:!1,conversations:[],selectedConversationSid:null,newMessage:""},s}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,s=n.conversations,a=n.selectedConversationSid,i=n.status,o=s.find((function(e){return e.sid===a}));return e=o?Object(P.jsx)(A,{conversationProxy:o,myIdentity:this.state.name}):"success"!==i?"Loading your conversation!":"",this.state.loggedIn?Object(P.jsx)("div",{className:"conversations-window-wrapper",children:Object(P.jsxs)(h.a,{className:"conversations-window-container",children:[Object(P.jsxs)(re,{style:{display:"flex",alignItems:"center",padding:0},children:[Object(P.jsxs)("div",{style:{maxWidth:"250px",width:"100%",display:"flex",alignItems:"center"},children:[Object(P.jsx)(ie,{style:{paddingRight:"0",display:"flex"},children:Object(P.jsx)(w,{})}),Object(P.jsx)(ie,{children:Object(P.jsx)(le,{strong:!0,style:{color:"white"},children:"Conversations"})})]}),Object(P.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(P.jsx)(ie,{children:Object(P.jsx)(le,{strong:!0,style:{color:"white"},children:o&&(o.friendlyName||o.sid)})}),Object(P.jsxs)(ie,{style:{float:"right",marginLeft:"auto"},children:[Object(P.jsx)("span",{style:{color:"white"},children:" ".concat(this.state.statusString)}),Object(P.jsx)(p.a,{dot:!0,status:this.state.status,style:{marginLeft:"1em"}})]}),Object(P.jsx)(ie,{children:Object(P.jsx)(f.a,{type:"poweroff",onClick:this.logOut,style:{color:"white",fontSize:"20px",marginLeft:"auto"}})})]})]}),Object(P.jsxs)(h.a,{children:[Object(P.jsx)(ce,{theme:"light",width:250,children:Object(P.jsx)(ae,{conversations:s,selectedConversationSid:a,onConversationClick:function(e){t.setState({selectedConversationSid:e.sid})}})}),Object(P.jsx)(oe,{className:"conversation-section",children:Object(P.jsx)("div",{id:"SelectedConversation",children:e})})]})]})}):Object(P.jsx)(q,{onSubmit:this.logIn})}}]),n}(i.a.Component),ue=(n(549),n(550),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={},s}return Object(l.a)(n,[{key:"render",value:function(){return Object(P.jsx)(de,{})}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(P.jsx)(ue,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[551,1,2]]]);
//# sourceMappingURL=main.0bd88e38.chunk.js.map